# iOS教学参考
## 引言
iOS是逻辑简单易懂、用户体验舒适、对开发者和设计人员友好的开发平台。相比Android，它没有过于复杂的控件/资源绑定逻辑，摆脱了难以书写的xml描述文档，采用布局更加清晰、逻辑更加可靠、功能更加丰富的可视化编辑器（也可选用Swift代码进行界面描述），配合便于书写、易于理解、扩展性强、效率极高的Swift语言，致力于在不断的发展中帮助开发者迅速完成一个功能完备、体验优良、易于维护的移动端原生应用。
长期以来，由于Android用户和开发者数量庞大，部分开发者倾向于用Android应用作为移动端应用的典型代表，这无疑是有失偏颇的。根据有关统计，目前东南大学本科生范围内，Android用户与iOS用户占比约为8:5，这意味着平均每10人中有4人使用iOS平台。更加值得一提的是，由于目前人们普遍对iOS的易用性有着非常深刻的印象，iOS的市场占有率也正在逐渐爬升。作为iOS开发者，要勇于成为这一浪潮的推动者，充分利用和展示iOS平台具有的一些进步成分，创造更多适合iOS平台的、更易于使用的移动端产品。
本文将简要介绍基于Swift 3的iOS开发的学习流程。

## 一、前提条件
### 硬件配置
- 一台Mac电脑，或安装有macOS的虚拟机或PC（即通常所说的黑苹果）
- iOS设备（建议使用iPhone 6s/6sPlus/7/7Plus；若没有iOS真机，也可使用Xcode自带的iOS模拟器，而完全不用担心启动速度和运行速度问题）

### 软件配置
- macOS Yosemite 或更高
- iOS 8/9/10
- Xcode 8 或更高

### 知识储备
- 最好熟悉一下 Linux/Unix 终端的基本操作
- 了解多线程、线程竞态以及线程安全相关知识
- 了解HTTP协议，能够区分和使用移动端开发常见的两种HTTP请求（POST和GET）
- Git基础（会推、拉、分支、提交等基本操作）
- 会正确书写JSON配置文件

> 其中Git对于初学者来讲可能比较困难，可以参考廖雪峰Git教程：http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000 。

## 二、学习 Swift 3 编程
Swift作为一款强类型静态语言，可以在Swift库的帮助下，直接编译为二进制程序，并运行在多数系统平台上。另外，我们可以借助Xcode的Playground功能，像书写Python/JavaScript等动态语言一样直接书写简单的Swift命令行程序，并即时看到输出结果。这对于学习Swift基本语法、基本数据结构、甚至快速编写某些类（例如日期时间类）非常有帮助。

一个Swift 3 Hello World程序只有如下一行：

```Swift
print("Hello, World!")
```

关于Swift的学习，可以参见Swift 3中文文档：
http://pan.baidu.com/share/link?shareid=823761287&uk=3408869611

### 学习过程中需要注意的特性
1. Swift 是基于引用类型的编程语言，引用类型语言可以在没有指针类型的情况下方便的操作对象。若之前没有接触过引用类型语言（如Java、Python），请特别注意引用类型语言与传统C风格语言的区别：类类型的变量都是对象的引用；未初始化的类类型变量都是空引用；每次对类类型变量赋值都是让它引用新的对象；另外Swift的ARC系统保证，若对象不再被引用，它将被自动回收并释放；两个类类型变量之间比较相等，是比较他们是否引用相同的对象，而不是进行数值比较，只有重载其运算符才能实现数值比较；在Swift中，以上只适用于类类型的变量，结构体和枚举是值类型，不是引用类型。现代的语言大多数都是引用类型语言或者值/引用并存的语言，以上概念是牢固掌握这些语言的基础。
2. Swift 3 是强类型的静态语言，但类型推断等功能使它在语法上与某些弱类型语言非常相似，这在保证程序类型安全的前提下，让程序变得十分易于书写；
3. Swift 是在开源社区的协助下迅速发展、以至于上下不兼容的语言，Swift 3 与 Swift 2 的差别之大，可以与 Python 3 与 Python 2 的差别相提并论（但人们对 Swift 3 的接受速度远远快于 Python），因此请注意区分，少学、少用旧版本，多学、多用新版本；
4. Swift 在开发中非常注重代码安全问题，解决了很多 C 风格语言易于导致书写错误的问题，例如 if/while 等控制语句强制加大括号（也因此可以省略小括号）、switch 语句强制加 default、利用 Optional （可选值）类型避免大多数空指针异常等，学习时请务必注意掌握这些功能，并体会这样设计的意图；
5. Swift 拥有原生的函数式编程和流式编程支持，它借助 -> 符号使得函数和闭包类型书写非常清晰易懂；内建的 map、filter、forEach 等流式编程函数是目前非常流行的流式编程的基础，学习时请注意对函数式编程和流式编程思想的理解；
6. Swift 允许非常自由的运算符重载，你可以重载除赋值等号以外的大多数运算符，改变它们的优先级，甚至使用多个符号进行排列组合，自定义一个全新的运算符，学习时请注意充分利用该特性，创造一些方便使用的自定义运算，感受 Swift（与 Java 相比）更加强大的可定制性；

### 学习中一些值得注意但经常容易被忽略的地方
```Swift
// 1. 运算符也是函数，可以用运算符直接代替函数名进行一些特殊操作：
[1, 2, 3, 4, 5].sort(>)

// 2. 二维数组的空值到底是 [[]] 还是 [] ？
var array: [[Int]] = [] // 为什么不是 [[]] ？

// 3. 关于可选值的一些书写窍门
let optionalStr: String? = nil
var unwrapped: String = optionalStr ?? "nil" // 有值取值，无值取默认

// 4. 冷知识：多行注释/**/可以嵌套吗？
// 如果你说不可以，那么你被打脸了，Swift 的多行注释是可以嵌套的，这是Swift的一大冷特性。
```
以上是一些小例子，Swift 是一个内涵丰富、坑很少的语言，希望这门语言的学习能够启发读者对「未来的语言应该是什么样子」的思考。

## 三、iOS 开发
### 常见框架
首先需要安装 Cocoapods 包管理器，并熟悉其使用（Podfile 的书写以及 pod install 命令）。注意为项目安装了 Cocoapods 后，会生成 .xcworkspace 文件，以后打开工程时应打开此文件而不是打开 .xcodeproj 文件；
常用联网库：Alamofire（移动端应用的联网请求必须是异步的，才能防止阻塞应用对UI操作的响应。Alamofire 库内建了异步联网、异步回调机制，只需设置回调 callback 即可自动完成新建线程、联网、将结果发回主线程、执行回调的操作。但在书写多个有强关联性的回调时，务请注意线程安全）
- 常用JSON解析库：SwiftyJSON
- 常用图片异步加载和缓存库：SDWebImage
- 常用进度圈库：MBProgressHUD、SVProgressHUD
- 常用自动布局（Autolayout）描述库（可代替 Storyboard 编写界面）：SnapKit（但基于Interface Builder 的 Storyboard 具有很方便的可视化设计和数据绑定功能，建议学习 Storyboard，另外也要了解 SnapKit 的使用，以辅助 Storyboard 进行一些复杂界面的描述）
