# 微信小程序教学参考
## 引言

微信小程序是基于微信MINA框架的前端开发平台。
从技术上讲，有别于目前Web前端的乱象，微信小程序所需技术栈非常浅显易懂，极大降低了学习成本；而且由于MINA框架限制，微信小程序不允许使用大多数传统前端框架（如最常见的jQuery），从而避免了大佬炫技的现象，因此具有一次学习、长期适用的特点。
从产品定位来看，微信小程序适合线下场景、扫码使用、即用即走的工具类产品；换句话说，一个不需要重度使用的应用程序，如果用原生App实现会显得大材小用，那么微信小程序就更适合这类产品。这是微信官方对小程序的定位，但综合目前微信小程序通过审核的情况来看，一些中型App也可以通过小程序来实现，从而获得跨平台、快速迭代、多媒体功能完备、统计方便等特性。
本文将简要介绍微信小程序的学习和开发流程。

## 一、微信小程序开发所需的技术栈
- 基本的HTML知识（wxml与html类似）
- 基本的CSS知识，会根据具体的UI需求选择合适的布局模型（盒式、绝对、flex）
- 理解并掌握一些CSS3新特性（例如flex布局、before/after选择器等）
- 基本的JS（ES5/6）知识
- 了解Mustache风格的模板引擎及其使用
- 会使用Chrome DevTools（Chrome F12开发者工具）进行简单的HTML/CSS/JS调试操作
- 了解HTTP协议，能够区分和使用移动端开发常见的两种HTTP请求（POST和GET）
- Git基础（会推、拉、分支、提交等基本操作）
- 会正确书写JSON配置文件

> 其中Git对于初学者来讲可能比较困难，可以参考廖雪峰Git教程：http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000 。

## 二、开发环境介绍
由于微信公众平台限制，一个微信小程序只允许有一个管理员，另外可绑定多个开发者和多个体验者。本文假定读者拥有普通开发者权限，没有管理员权限。
开发微信小程序需要使用「微信开发者工具」（Win/mac适用），对于普通开发者来说，该工具可以编辑和调试正在开发中的微信小程序，但由于其编辑器功能有限，建议使用Sublime/Atom/VS Code等编辑器代替（可搜索安装wxml等类似插件以支持微信小程序的开发），所以开发者工具几乎只用于调试使用。

### 搭建开发环境
初次运行开发者工具进行微信小程序的开发，步骤如下：
- 与小程序管理员申请，获取开发者和体验者权限，并在微信上进行确认；
- 与项目代码库管理员申请，获取小程序git仓库的读写权限；
- 克隆小程序git仓库到本地。
- 运行开发者工具，使用微信扫码登录；
- 导入刚克隆的git仓库（注意：由于具体需求不同，导入的目录不一定是git仓库根目录，而是应当直接包含app.json等配置文件，才是有效的微信小程序项目），并切换到「调试」页面；
- 打开Sublime/Atom/VS Code等合适的编辑器进行编辑。开发者工具会监视各文件的修改时间，在编辑器中执行保存操作后，开发者工具会自动刷新预览页面。

### 调试
开发者工具不仅支持实时预览，另外也支持将开发版部署到真机调试。进入「项目」界面，点击「预览」并使用已登录的开发者本人微信扫码即可预览开发版；开发版小程序可以在菜单中打开调试，以查看调试输出、执行简单的js代码等。

### 提交更改
将你的更改随时推送到git远程仓库，并通知管理员进行检查。当一个版本完成后，管理员会负责将编译后的代码上传到微信公众平台并提交审核，或发布体验版供所有体验者使用。

## 三、进行开发
开发过程中，请随时参考微信小程序开发文档：[https://mp.weixin.qq.com/debug/wxadoc/dev/]()

### 注意点
1. 小程序在开发者工具、Android、iOS平台的表现可能不同，因此请尽量按规范书写代码，并请同时用Android和iOS两个手机进行调试。
2. 小程序中，标题栏、Tab栏、视频区域、客服按钮等控件为系统原生组件，它们将始终出现在页面最顶层，且可自定义性较差，请不要试图通过修改wxss样式来控制这些组件。
3. 小程序要求导航层数不超过5层，超过5层的将不能导航，因此请在不破坏用户体验的前提下，适当使用redirectTo()代替navigateTo()。
4. 始终使用rpx代替px作为尺寸单位，务必避免px单位。rpx代表标准iPhone6屏幕（750\*1334）上的一个物理像素，它会自动根据目标屏幕的宽度进行缩放。即：实际像素数=rpx数\*(实际屏幕宽度像素数/750)。使用这种单位可以帮助你更方便地与设计人员交流，因为移动端的设计图普遍使用完全相同的尺寸计算方式。
