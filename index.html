<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <link rel="icon" type="image/png" sizes="80x80" href="/favicon.png">

    <!-- Fetched scripts -->
    <script src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script>
    <script src="//unpkg.com/docute@3.4.8/dist/docute.js"></script>

    <!-- Fetched stylesheets -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css">

    <!-- Local scripts -->
    <script src="static/js/highlight.js"></script>

    <!-- Local stylesheets -->
    <link href="static/css/markdown.css?v=3" rel="stylesheet">
    <link href="static/css/nprogress.css?v=1" rel="stylesheet">
    <link href="static/css/shower.css?v=17" rel="stylesheet">

    <!-- Desktop App for my own iOS -->
    <link rel="apple-touch-icon" sizes="120x120" href="apple-icon.png">
    <link rel="apple-touch-startup-image" href="launch.jpg">
    <meta name="apple-mobile-web-app-title" content="Rikumi">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <title>Rikumi</title>
</head>
<body onload="$(window).resize()">
    <div id="sidebar">
        <a href="/" router-link="/"><img class="avatar" ondragstart="return false" src="//avatars1.githubusercontent.com/u/5051300"></a>
        <p class="name">Rikumi</p>
        <p class="profile">「右手携带左手爱」</p>
        <br>

        <a class="link" href="/" router-link="/"><li>首页</li></a>
        <a class="link" href="/关于我" router-link="/关于我"><li>关于我</li></a>

        <iframe id="player" src="//music.163.com/outchain/player?type=0&id=582976667&auto=0&height=430" frameborder="0"></iframe>

        <script>
            // 实现自动调整播放器高度，根据侧栏可用空间自动选择隐藏播放器或显示 0、1、2、… 个曲目
            $(window).resize(function() {
                var sidebar = $("#sidebar");
                var t = sidebar.find("li").last().offset().top + 44 - sidebar.last().offset().top;
                var b = sidebar.height();
                var maxHeight = b - t - 120;
                $("#player").css("height", Math.max(maxHeight, 110));
            })
        </script>

        <div class="footer"><span class="mobile-only">↓ 上拉阅读文章</span></div>
    </div>
    <div id="main">
        <div id="app" class="markdown-body"></div>
    </div>
    <script>
        docute.init({
            url: 'https://raw.githubusercontent.com/rikumi/rikumi.github.io/master/',
            home: 'https://raw.githubusercontent.com/rikumi/rikumi.github.io/master/README.md',
            // home: 'README.md',
            sidebar: false,
            disableSidebarToggle: true,
            marked: {
                gfm: true,
                tables: true,
                breaks: false,
                pedantic: false,
                sanitize: false,
                smartLists: false,
                smartypants: false,
                highlight: function (code, lang) {
                    if (lang === "") {
                        return hljs.highlightAuto(code).value;
                    }
                    return hljs.highlightAuto(code, [lang]).value;
                }
            }
        });

        docute.router.afterEach(function () {
            setTimeout(function() {
                var height = 0;
                if ($('body').width() <= 800) {
                    height = $('#sidebar').height()
                }
                $('html,body').animate({scrollTop: height + 'px'}, 500)
            })
        })
    </script>
</body>
</html>
